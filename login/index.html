<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <script>
        (function () {
            const savedTheme = localStorage.getItem('ejtunes_theme');
            if (savedTheme === 'dark' || (!savedTheme && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        })();
    </script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>EJTunes - Login</title>
    <link rel="stylesheet" href="../src/style.css">
    <link rel="icon" type="image/png" sizes="32x32" href="/light_32.png" media="(prefers-color-scheme: light)">
    <link rel="icon" type="image/png" sizes="32x32" href="/dark_32.png" media="(prefers-color-scheme: dark)">
    <!-- Preload background images for smooth theme switching -->
    <link rel="preload" as="image" href="/bg_light.jpeg">
    <link rel="preload" as="image" href="/bg_dark.jpeg">
    <style>
        .legacy-flex-center {
            display: -webkit-box;
            display: -webkit-flex;
            display: flex;
            -webkit-box-orient: vertical;
            -webkit-box-direction: normal;
            -webkit-flex-direction: column;
            flex-direction: column;
            -webkit-box-pack: center;
            -webkit-justify-content: center;
            justify-content: center;
            -webkit-box-align: center;
            -webkit-align-items: center;
            align-items: center;
        }
    </style>
</head>

<body class="bg-black text-white min-h-screen">
    <!-- Login Screen -->
    <!-- Login Screen -->
    <div id="login-screen"
        class="fixed inset-0 z-50 bg-login-day dark:bg-login-dark bg-cover bg-center bg-no-repeat flex flex-col items-center justify-center p-6 w-full h-full legacy-flex-center transition-all duration-700">
        <!-- Overlay for better text readability -->
        <div class="absolute inset-0 bg-white/40 dark:bg-black/40 backdrop-blur-[2px] transition-all duration-700">
        </div>

        <!-- Theme Toggle Switch -->
        <!-- Theme Toggle Switch -->
        <label
            class="absolute top-6 left-1/2 -translate-x-1/2 z-50 flex items-center gap-2.5 bg-white/60 dark:bg-black/20 backdrop-blur-md px-3 py-1.5 rounded-full border border-black/10 dark:border-white/10 shadow-sm transition-all duration-300 scale-90 cursor-pointer">
            <input type="checkbox" id="login-theme-toggle" class="sr-only peer">
            <span
                class="text-[10px] font-black tracking-wider transition-colors duration-300 text-gray-900 peer-checked:text-gray-500 peer-checked:opacity-50">DAY</span>
            <div class="relative w-11 h-5 bg-gray-400/40 dark:bg-gray-700 rounded-full peer-checked:bg-brand-mint transition-all duration-300
                    after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-4 after:w-4 after:transition-all after:shadow-sm
                    peer-checked:after:translate-x-6"></div>
            <span
                class="text-[10px] font-black tracking-wider transition-colors duration-300 text-gray-400 opacity-40 peer-checked:text-white peer-checked:opacity-100">NIGHT</span>
        </label>

        <div class="relative z-10 flex flex-col items-center">
            <img src="/dark_icon_transparent.png" alt="EJTunes"
                class="w-32 h-32 mb-6 object-contain drop-shadow-lg hidden dark:block">
            <img src="/light_icon_transparent.png" alt="EJTunes"
                class="w-32 h-32 mb-6 object-contain drop-shadow-lg block dark:hidden">
            <h1 class="text-4xl font-bold mb-2 text-gray-900 dark:text-white drop-shadow-md" data-i18n="app_title">
                EJTunes</h1>
            <p class="text-gray-800 dark:text-white/90 font-medium mb-8 text-lg drop-shadow-md"
                data-i18n="create_room_desc">Enjoy Jamming
                Together</p>
            <button id="login-btn"
                class="bg-white text-black px-8 py-3 rounded-full font-bold flex items-center gap-2 hover:scale-105 transition">
                <svg class="w-5 h-5" viewBox="0 0 24 24">
                    <path fill="currentColor"
                        d="M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z" />
                </svg>
                <span data-i18n="sign_in_google">Sign in with Google</span>
            </button>

            <!-- Language Selector -->
            <div class="flex items-center gap-4 mt-6">
                <button class="login-lang-option text-2xl hover:scale-110 transition opacity-50 hover:opacity-100"
                    data-lang="en">ðŸ‡ºðŸ‡¸</button>
                <button class="login-lang-option text-2xl hover:scale-110 transition opacity-50 hover:opacity-100"
                    data-lang="ko">ðŸ‡°ðŸ‡·</button>
            </div>
        </div>

        <script type="module" src="../src/login.js"></script>
</body>

</html>